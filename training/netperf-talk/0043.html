<!-- received="Mon Jun 15 12:32:26 1998 PDT" -->
<!-- sent="Mon, 15 Jun 1998 12:41:30 -0700" -->
<!-- name="Rick Jones" -->
<!-- email="raj@cup.hp.com" -->
<!-- subject="Re: Running Netperf Under NT and Ultra II" -->
<!-- id="358578EA.F56B060E@cup.hp.com" -->
<!-- inreplyto="Running Netperf Under NT and Ultra II" -->
<title>Archive of the netperf-talk mailing list: Re: Running Netperf Under NT and Ultra II</title>
<h1>Re: Running Netperf Under NT and Ultra II</h1>
Rick Jones (<i>raj@cup.hp.com</i>)<br>
<i>Mon, 15 Jun 1998 12:41:30 -0700</i>
<p>
<ul>
<li> <b>Messages sorted by:</b> <a href="date.html#43">[ date ]</a><a href="index.html#43">[ thread ]</a><a href="subject.html#43">[ subject ]</a><a href="author.html#43">[ author ]</a>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0044.html">Frimmel@larscom.com: "RE: Running Netperf Under NT and Ultra II"</a>
<li> <b>Previous message:</b> <a href="0042.html">Frimmel@larscom.com: "RE: Running Netperf Under NT and Ultra II"</a>
<li> <b>Maybe in reply to:</b> <a href="0039.html">Derek Casanares: "Running Netperf Under NT and Ultra II"</a>
<!-- nextthread="start" -->
</ul>
<!-- body="start" -->
Frimmel@larscom.com wrote:<br>
<i>&gt; </i><br>
<i>&gt; Folks,</i><br>
<i>&gt; </i><br>
<i>&gt; &gt;----------</i><br>
<i>&gt; &gt;From:  Rick Jones[SMTP:raj@cup.hp.com]</i><br>
<i>&gt; &gt;Of course, in theory, unless a single CPU in an MP system saturates, one</i><br>
<i>&gt; &gt;should be able to get maximum throughput through a single link with a</i><br>
<i>&gt; &gt;singe TCP connection with a sufficiently large window.</i><br>
<i>&gt; ...</i><br>
<i>&gt; Well, that's fine if you can get the window to be larger than 64K. I</i><br>
<i>&gt; couldn't find a way to do it, and Microsoft was no help. I was using ATM</i><br>
<p>
I guess that is a limitation on the part of the MS TCP stack. Even in NT<br>
4.0?<br>
<p>
<i>&gt; with large delays or a WAN link, so I need something like 150K windows.</i><br>
<i>&gt; I opted for multiple sessions for my measurements. This turned out to be</i><br>
<i>&gt; useful enough for my purposes. Adding the throughput #'s give you a good</i><br>
<i>&gt; idea of what's what.</i><br>
<p>
Just make sure you have reasonably close start and stop times with the<br>
independent streams. This is an area that relies heavily on the due<br>
dilligence of the person running the benchmark since there is no<br>
explicit synchronization in netperf2. You need to give yourself decent<br>
run times, and make sure the skew in start and stop is minimized.<br>
<p>
I generally sit there watching the output manually.<br>
<p>
One technique that others have used  is to have three netperf tests in a<br>
row from each driving system/window. In shell talk that would be <br>
<p>
$ netperf; netperf; netperf<br>
<p>
they then only take the results from the middle of each threesome - the<br>
idea is that one is sure that the middle of each threesome has all<br>
concurrent streams going in parallel, regardless of startup/shutdown<br>
skew. Of course, if the system is completely thrashed, that might not<br>
hold.<br>
<p>
rick jones<br>
<pre>
-- 
these opinions are mine, all mine; HP might not want them anyway... :)
feel free to email, or post, but please do not do both...
my email address is raj in the cup.hp.com domain...
</pre>
<!-- body="end" -->
<p>
<ul>
<!-- next="start" -->
<li> <b>Next message:</b> <a href="0044.html">Frimmel@larscom.com: "RE: Running Netperf Under NT and Ultra II"</a>
<li> <b>Previous message:</b> <a href="0042.html">Frimmel@larscom.com: "RE: Running Netperf Under NT and Ultra II"</a>
<li> <b>Maybe in reply to:</b> <a href="0039.html">Derek Casanares: "Running Netperf Under NT and Ultra II"</a>
<!-- nextthread="start" -->
</ul>
